[![Waffle.io - Columns and their card count](https://badge.waffle.io/BeccaHyland/mentor_match_api.svg?columns=all)](https://waffle.io/BeccaHyland/mentor_match_api)

# Mentor Match (API)

## Introduction
  Mentor Match is an app for internal staff and student use at Turing School of Software & Design. In Module 1, Turing students have the opportunity to be matched to a software development mentor, usually an alumni, so this app gives admin tools to manage the matching process.

 In later Modules, students also contact alumni for short-term mentoring as a part of students' Professional Devlelopment curriculum, such as mock interviews and individual coffee meetings. Students can log in to the app to search for mentors in areas of interest and to connect.

In this repo, you will find the code and documentation for the Mentor Match back end, which provides the database and API endpoints for the Mentor Match Project and is deployed at https://mentor-match-api.herokuapp.com/

 Mentor Match is also deployed to a staging environment.

## Initial Setup
#### *coming soon*

## API Endpoints

All successful database requests return JSON in an easy-to-consume format generated by the [fast_jsonapi gem](https://github.com/Netflix/fast_jsonapi). To supply the Front End app with data, this project provides the following endpoints:
  ### 1.  All mentors in the database:
  GET `/api/v1/mentors` *currently unsecured, authorization coming soon*
  * returns JSON in the following format:

  <img width="640" alt="screen shot 2018-12-22 at 2 26 45 pm" src="https://user-images.githubusercontent.com/39714935/50378771-06c2c700-05f7-11e9-945a-3bd7af26f190.png">

### 2. One mentor by its id
GET `/api/v1/mentors/INSERT ID HERE`
* returns JSON in the following format:

<img width="625" alt="screen shot 2018-12-22 at 2 39 08 pm" src="https://user-images.githubusercontent.com/39714935/50378785-61f4b980-05f7-11e9-9652-8dedf130888f.png">

### 3. Create a new mentor in the database
POST `/api/v1/mentors`
* request must include:
#### HEADERS:
`{
"Content-Type": "application/json",
"Accept": "application/json"
}`

#### BODY:
* JSON
* A sucessful post returns `status: 201` and returns the `new mentor`
* At the moment, the minimum required fields to create a mentor are: name, city, and email *(to be updated)*.
`{
"name": "name of mentor",
"email": "email of mentor",
"city": "city of mentor"
}`

* the database already stores defaults for the attributes `active` and `matched`, so these are NOT included with a POST.
* full example:

<br>
{
  <br>
        	"name": "Sara Mentor", <br>
            "email": "sara@sara.com", <br>
            "city": "Sarahville", <br>
            "state": "CO", <br>
            "country": "(will default to US if not provided)", <br>
            "slack_username": "sara_slack", <br>
            "pronouns": "she/her", <br>
            "current_title": "Software Developer", <br>
            "current_employer": "Sara's employer", <br>
            "background": "I was a student in the FE program, and I love my cat and learning Vue", <br>
            "industries": ["food service", "sales"], <br>
            "ways_to_mentor": ["1-on-1", "coffee meetings"], <br>
            "expertise_tech": ["JavaScript", "Mocha/Chai", "Node.js", "React", "Redux"], <br>
            "expertise_non_tech": ["rock-climbing", "parenting", "cooking"], <br>
            "mentee_capacity": 1, *(this is an integer)* <br>
            "meeting_location": ["remote"], <br>
            "preferences": ["parent", "female-identifying", "FE"] <br>
}<br>

### Build Details: *(draft collection of all details, to be formatted)*

initial build command: `rails new mentor_match_api -T -d postgresql --skip-spring --skip-turbolinks`

Gems added:

general:

gem 'fast_jsonapi'
gem 'rack-cors', require 'rack/cors'
gem 'active-designer'

development & test
  gem 'rspec-rails'
  gem 'capybara'
  gem 'factory_bot_rails'
  gem 'pry'
  gem 'shoulda-matchers'
  gem 'launchy'
  gem 'database_cleaner'
  gem 'faker'


  test only
  gem 'simplecov'

 Run `rails g rspec:install`

 To rails_helper, added

 `Shoulda::Matchers.configure do |config|
  config.integrate do |with|
    with.test_framework :rspec
    with.library :rails
  end
end`
and `require 'faker'`

To spec_helper, added:
`require 'database_cleaner'`
`require 'simplecov'`
`SimpleCov.start "rails"`

within the spec_helper RSpec configure:
`config.before(:suite) do
      DatabaseCleaner.strategy = :transaction
      DatabaseCleaner.clean_with(:truncation)
    end
    config.around(:each) do |example|
        DatabaseCleaner.cleaning do
        example.run
      end
    end`

  in config/application.rb, added:
  `config.middleware.insert_before 0, Rack::Cors do
      allow do
        origins '*'
        resource '*', headers: :any, methods: [:get, :post, :options]
      end
    end` for the rack-cors gem


## Known Issues

## Running Tests

## How to Contribute

## Core Contributors

## Schema Design

## Tech Stack List
* Ruby 2.4.1
* Ruby on Rails 5.1
