# Mentor Match API Endpoints
[back to README home](https://github.com/BeccaHyland/mentor_match_api/blob/master/README.md)

All successful database requests return JSON in an easy-to-consume format generated by the [fast_jsonapi gem](https://github.com/Netflix/fast_jsonapi). To supply the MM Front End app with data, this project provides the following endpoints:

## /api/v1/mentors
#### For authorization, all requests must include a param of `token`.
#### The value must be the token received by the FE (in params as `token`) in the first request from the user for that login time period.
##### This proves that the user already "Logged In" - was authenticated by a Github OAuth login and role-verified by the Back End to set the user's permissions (allowed endpoints)

### Responses to admin requests for mentor data return more attributes than non-admin requests, with one exception.
#### [See authorization documentation here](https://docs.google.com/spreadsheets/d/1yoe0zdGWziHRCtJGQhfjDmUXlCQcM6ei1qt6v4WDIHc/edit#gid=1616907277)

  ### 1.  All mentors in the database:
  GET `/api/v1/mentors` by an admin user
  * returns JSON in the following format (all arrays are shown closed except the first, for easier viewing):

<img width="1117" alt="screen shot 2019-01-01 at 7 14 23 pm" src="https://user-images.githubusercontent.com/39714935/50578640-ace1ae80-0df9-11e9-950d-c46b9fa9eab3.png">

### 2. One mentor by its id
GET `/api/v1/mentors/INSERT ID HERE`
* returns JSON in the following format (all arrays are shown closed except the first, for easier viewing):

<img width="787" alt="screen shot 2019-01-01 at 7 22 03 pm" src="https://user-images.githubusercontent.com/39714935/50578718-bfa8b300-0dfa-11e9-91e2-e19dbe090d12.png">

### 3. Create a new mentor in the database
POST `/api/v1/mentors`
* request must include:
#### HEADERS:
`{
"Content-Type": "application/json",
"Accept": "application/json"
}`

#### BODY:
* JSON
* A sucessful post returns `status: 201` and returns the `new mentor`
* At the moment, the minimum required fields to create a mentor are: name, city, and email.
`{
"name": "name of mentor",
"email": "email of mentor",
"city": "city of mentor"
}`

* the database already stores defaults for the attributes `active` and `matched`, so these are NOT included with a POST.
* full example:

<br>
{
  <br>
        	"name": "Sara Mentor", <br>
            "email": "sara@sara.com", <br>
            "city": "Sarahville", <br>
            "state": "CO", <br>
            "country": "(will default to US if not provided)", <br>
            "slack_username": "sara_slack", <br>
            "pronouns": "she/her", <br>
            "current_title": "Software Developer", <br>
            "current_employer": "Sara's employer", <br>
            "background": "I was a student in the FE program, and I love my cat and learning Vue", <br>
            "industries": ["food service", "sales"], <br>
            "ways_to_mentor": ["1-on-1", "coffee meetings"], <br>
            "expertise_tech": ["JavaScript", "Mocha/Chai", "Node.js", "React", "Redux"], <br>
            "expertise_non_tech": ["rock-climbing", "parenting", "cooking"], <br>
            "mentee_capacity": 1, *(this is an integer)* <br>
            "meeting_location": ["remote"], <br>
            "stack_preference": "FE", <br>
            "identity_preference": ["parent", "female-identifying"] <br>
}<br>
